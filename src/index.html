<!DOCTYPE html>
<html lang="en">
<head>

    <link rel="shortcut icon" type="image/x-icon" href="img/favicon2.ico" />

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Ubuntu:regular,bold&subset=Latin">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Lato&subset=latin,latin-ext">
    <link href='https://fonts.googleapis.com/css?family=Montserrat Subrayada' rel='stylesheet'>

    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    

    <!-- <link href = "css/styles.css" rel = "stylesheet" type = "text/css"> -->
    <title>Cyclic Points of Knots</title>
</head>
<body>

    <div class="displayColumn">

        <!---HEADER FOR LOGO AND TITLE-->
        <div id="header">
            <div>
                <button onClick="window.location.href=window.location.href" class="button img" id="title">Cyclic Points of Knots </button>
                <button class = "button img" id="about button" style="border-radius: 50%;">
                    <img src="img/about.png" alt="Image" >
                </button>
            </div>
            
        </div>

        <div id="preset-overlay">
            <div>
                <button class = "button img disabled" id="NewKnot" value="New Knot">
                    <img src="img/plus.png" alt="Image" style="width: 50px;height: 50px; opacity: 0.55;">
                    <span id="New-Knot-txt">WebGPU not supported</span>
                </button>
                
                <button class = "button img" value="./knot_preset/trefoil(3_1).knot">
                    <img src="img/trefoil_knot.png" alt="Image">
                    <span>Trefoil knot \((3_1)\)</span>
                </button>
                <button class = "button img" value="./knot_preset/figure_eight(4_1).knot">
                    <img src="img/figure_eight_knot.png" alt="Image">
                    <span>Figure eight knot \((4_1)\)</span>
                </button>
                <button class = "button img" value="./knot_preset/(4_1).knot">
                    <img src="img/(4_1)knot.png" alt="Image">
                    <span>\((4_1)\) knot</span>
                </button>
                <button class = "button img" value="./knot_preset/(5_2).knot">
                    <img src="img/(5_2)knot.png" alt="Image">
                    <span>\((5_2)\) knot</span>
                </button>
                <button class = "button img" value="./knot_preset/(6_1).knot">
                    <img src="img/(6_1)knot.png" alt="Image">
                    <span>\((6_1)\) knot</span>
                </button>
                <button class = "button img" value="./knot_preset/(6_3).knot">
                    <img src="img/(6_3)knot.png" alt="Image">
                    <span>\((6_3)\) knot</span>
                </button>
                <button class = "button img" value="./knot_preset/(8_21).knot">
                    <img src="img/(8_21)knot.png" alt="Image">
                    <span>\((8_{21})\) knot</span>
                </button>
            </div>
        </div>

        <div id="container" class="hidden">

            <canvas id="gfx-main" width="400" height = "400"></canvas>

            <div id="drawing tool" class="drawing hidden">
                <div>
                    <button class = "button img" id="insert button">
                        <img src="img/insert.png" alt="Image">
                        <span>insert</span>
                    </button>
                    <button class = "button img" id="connect button">
                        <img src="img/connect.png" alt="Image">
                        <span>connect</span>
                    </button>
                    <button class = "button img" id="subdivide button">
                        <img src="img/subdivide.png" alt="Image">
                        <span>subdivide</span>
                    </button>
                    <button class = "button img" id="erase button">
                        <img src="img/eraser.png" alt="Image">
                        <span>erase</span>
                    </button>
                </div>
            </div>

            <div id="delete-check" class="hidden">

                    <div id="delete text" style="font-size: 16px;">Delete the current knot?</div>
                    <div>
                        <button id="delete-cancel" class="button cancel" >Cancel</button>
                        <button id="delete-confirm" class="button confirm">Delete</button>
                    </div>
                    

            </div>

            <div id = "scene manager" class="scene manager hidden">
                <button class = "button img scene-update" id="advance scene" sceneType="Linked Knot" disabled>
                </button>
                <span class="tooltip linked" style = "right: 40px; top:-50px;">Draw a closed knot first</span>
                <span class="tooltip fourier"style = "right: 40px; top:-50px;">Make sure knot does not intersect itself</span>

                <div class="circle-options hidden" id="circle options" >
                    <div>
                        <span>Enable double check:</span>
                        <div class="Toggle">
                            <input id="double check box" name="checkbox2" type="checkbox"/>
                            <label for="double check box"></label>
                            
                        </div>
                    </div>
                    <div>
                        <span>Maximum number of circles per frame:</span>
                        <div class="dropdown" id="circle max dropdown" style="flex:0 0 auto; width:60px; height:20px;">
                            <button class="dropbtn" >8</button>
                            <div class="content hidden">
                                <div>
                                    <div class="element" value="20"><span>20</span></div>
                                    <div class="element" value="16"><span>16</span></div>
                                    <div class="element" value="12"><span>12</span></div>
                                    <div class="element" value="8"><span>8</span></div>
                                </div>
                            </div>
                            
                        </div>
                    </div>
                    <div>
    
                        <span>Number of frames:</span>
                        <div class="dropdown"  id="knotDivision" style="flex:0 0 auto; width:60px; height:20px;">
                            <button class="dropbtn">high</button>
                            <div class="content hidden">
                                <div>
                                    <div class="element" value="2000"><span>high</span></div>
                                    <div class="element"  value="800"><span>low</span></div>
                                </div>
                            </div>
    
                        </div>
                    </div>
                    
                    <div style="justify-content: center;gap:40px;">
                        <button class="button" id="cancel calculate"style="color:black;font-size: 16px;">Cancel</button>
                        <button class="button" id="confirm calculate"style="background-color: rgb(55, 125, 255); color:white;font-size: 16px;">Calculate</button>
                        
                    </div>
                </div>

                <div class="scene slider"> 
                    <input type="radio" name="m" id="Linked Knot" checked> 
                    <input type="radio" name="m" id="Fourier Knot">
                    <input type="radio" name="m" id="Quintuples">
                </div>



                <button class = "button img" id="delete scene" style="position:absolute; left:50px;">
                    <img src="img/delete.png" alt="Image" >
                    <span class="tooltip" style="color:red">delete</span>
                </button>
            </div>

            <button class = "button img" id="camera button" style="position:absolute; right:40px;top:40px;">
                <img src="img/camera.png" alt="Image" >
                <span class="tooltip">reset camera position</span>
            </button>

        
            <div id="loader" class="loader hidden">
                <div class="loader overlay"></div>
                <div class="loader box">
                    <div class="loader spinner"></div>
                    <div class="loader text" id="loader text">loading</div>
                    <div style="display:flex;justify-content:center;flex-flow:row wrap;left:0px;right:0px;top:230px;margin:auto;position:absolute">
                        <button id="quit" class="button">Quit Calculations</button>
                    </div>
                    
        
                    <div id="double check" class="overlay hidden">
                        <span class="text-center">Are you sure you would like to quit calculations?</span> 
                        <div style="display:flex;justify-content:center;gap:80px;flex-flow:row nowrap;">
                            <button id="cancel" class="button cancel">Cancel</button>
                            <button id="confirm" class="button confirm">Confirm</button>
                        </div>
                    </div>
                </div>
            </div>

            <div id="video-controls" class="controls hidden">
                <div>
                    <button id="playpause" type="button" data-state="play">
                        <img src="img/play.png" alt="Image" class="pause">
                        <img src="img/pause.png" alt="Image"  class="play">
                    </button>
                    
                    <div class="progress" id="progress">
                        <div>
                            <div id="progress-bar"style="width:30%">
                                <div id="progress-ball"></div>
                            </div>
                        </div>
                    </div>
                    <div class="dropdown" id="speed dropdown" style="flex:0 0 auto; width:75px; height:90%;">
                        <button class="dropbtn">X 1.0</button>
                        <div class="content hidden">
                            <div>
                                <div class="element" value="2"><span>X 2.0</span></div>
                                <div class= "element" value="1.5"><span>X 1.5</span></div>
                                <div class= "element" value="1"><span>X 1.0</span></div>
                                <div class="element" value="0.5"><span>X 0.5</span></div>
                            </div>
                        </div>
                    </div>

                </div>
                
            </div>

            <!-- <button id="export-data" class="button" style = "position: absolute; left : 20px; top:20px; width :40px; height :20px; background-color: rgb(53, 53, 255);">Export Data</button>
            <input type="file" id="link-data" class="button" style = "position: absolute; left : 20px; top:50px; width :40px; height :20px; background-color: rgb(53, 53, 255);" value="choose file" accept="text/plain"></button> -->
        
        </div>

        
    </div>
    <div id="about overlay" class="about hidden">
        <div>
            <div id="info-menu">
                <span style="font-size: 30px; font-family: Lato; font-weight: bold; margin-left: 45px;">About</span>
                <button class="button img" id="info-exit">
                    <img src="img/close.png" alt="Image" style="width: 20px; height: 20px;">
                </button>
            </div>
            <div id="info-content">

                <!-- <p class="text-center"><a href="https://en.wikipedia.org/wiki/Knot_theory">Knot Theory</a> is a branch of mathematics that studies closed, non-self-intersecting curves in three dimension. One of the central part of Knot Theory is trying to figure out if two knots are equivalent. A useful tool to determine knot equivalences are knot invariants, which are properties that are same for equivalent knots.</p>
                <p class="text-center">This program calculates the quadratic coefficients of a knot invariant called the <a href="https://en.wikipedia.org/wiki/Alexander_polynomial">Conway-Alexander Polynomial</a>. It takes a user-drawn knot, smoothen it using Fourier Approximations, then finds circles that intersect the knot in 5 distinct points, such that adjacent points on the circle are not adjacent on the knot. The number of circles found at each red point represent the modulo 2 quadratic coefficient of the Conway-Alexander Polynomial.</p>
                <p class="text-center">The theory follows from <a href="https://arxiv.org/abs/math/0303034">this paper</a> by Budney, R., Conant, J., Scannell, K. P., & Sinha, D. The circles are calculated with GPU accelerated Newton's Method using the WebGPU API.</p>

                <p class="text-center">
                This site was created in collaboration with IMAGINARY, a travelling exhibition that shows mathematics can be beautiful,
                interactive, something you can touch, or a way to express your emotions beyond what words can achieve.
                It has visited over 55 countries since 2007.
                </p>  -->
                
                <p>
                <strong>Definition</strong>: Given a finite collection of points \(P\) on a circle embedded in 3-space, 
                we say the points \(p,q\) in \(P\) are <strong>consecutive</strong> provided there is an embedded interval 
                in the circle \(I\) such that \(I\cap P\) is \({p,q}\).
                </p>  

                <p>
                <strong>Definition</strong>: A round circle in \(\mathbb R^3\) is a closed curve in an affine plane, having constant curvature. 
                Equivalently, it is the result of intersecting a sphere with an affine plane (a plane that 
                passes through the interior of the sphere, i.e. not disjoint nor kissing). 
            </p>
                <p>
                <strong>Definition</strong>: A knot is an embedded circle in \(\mathbb R^3\). 
            </p>
                <p>
                <strong>Definition</strong>: A circular pentagram  on a knot is 5 points on the knot, 
                which also sit on a round circle in \(\mathbb R^3\), such that any two points that 
                are consecutive on the knot are not consecutive on the circle. 
            </p>
                <p>
                This software computes the space of all circular pentagrams on knots, and 
                illustrates it via an animation.  We trace out the circular pentagrams as \(p\), one 
                of the five points on the pentagram, completes an orbit around the knot. 
                Generally the circular pentagrams on a knot form a 1-dimensional manifold, 
                and if one fixes a point \(p\) on the knot, there are only finitely many circular pentagrams that pass through \(p\). 
            </p>
                <p>
                The type-2 invariant of knots has many descriptions:

                <ol>
                    <li>The coefficient of \(z^2\) in the Conway-normalized Alexander polynomial. 
                        <p><cite>A. Kawauchi, <i>A Survey of Knot Theory</i>, Birkhäuser Basel (2012), <a href="https://books.google.ca/books?id=RkEBCAAAQBAJ" target="_blank" rel="noopener noreferrer">https://books.google.ca/books?id=RkEBCAAAQBAJ.</a></cite></p>
                    </li>

                    <li>A signed count of the \(X\) chord-diagrams in a planar diagram of the knot. 
                        These are called Polyak-Viro formula. <p><cite>M. Polyak, O. Viro, <i>Gauss Diagrams for 
                            Formulas of Vassiliev Invariants</i>, IMRN (1994), No. 11</cite>  </p>
                    </li>

                    <li>As a 'long knot' there is a quadrisecant count.
                    <p><cite>R. Budney, J. Conant, K. Scannell, D. Sinha, 
                        <i>New perspectives on self-linking</i>, Adv. Math. <b>191</b> (2005)
                        78–113. <a href="https://doi.org/10.1016/j.aim.2004.03.004" target="_blank" rel="noopener noreferrer">https://doi.org/10.1016/j.aim.2004.03.004.</a>
                        <a href="https://www.sciencedirect.com/science/article/pii/S000187080400074X" target="_blank" rel="noopener noreferrer">(https://www.sciencedirect.com/science/article/pii/S000187080400074X)</a>
                        </cite></p>
                        </li>

                    <li>Closely related to (3) is a reinterpretation by Garrett Flowers. <p><cite>G. Flowers, <i>Satanic and thelemic circles on knots</i>, Journal of Knot Theory
                        and its Ramifications, 22(5) (2013).</cite></p>
                    </li>
                  </ol>

                
            </p>
            <p>
                In recent work, a variation of these ideas has been used to construct an 
                invariant of the smooth mapping-class group of the 4-manifold \(S^1 \times D^3\), showing that it is not finitely-generated.
            </p>
                <p>
                <cite>R. Budney and D. Gabai, <i>Knotted 3-Balls in \(S^4\)</i>, arXiv (2021), 
                    <a href="https://arxiv.org/abs/1912.09029" target="_blank" rel="noopener noreferrer">https://arxiv.org/abs/1912.09029. </a></cite>
            </p>
                            
                <p class="text-center">Created by Sean Lee and <a href="http://rybu.org/" target="_blank" rel="noopener noreferrer">Ryan Budney</a>.</p>
            </div> 
            <div style="height: 10px; flex: 0 0 auto;"></div>
        </div>

    </div>
    <div id="error-screen" class="hidden"></div>
</body>
</html>